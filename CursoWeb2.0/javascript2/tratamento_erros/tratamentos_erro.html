<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Tratamento Erros</title>
    <script>

        //throw new Error('Houve um erro, mas não se preocupe estamos trabalhando nisto agora!');

        //->Try, Catch, Throw e Finally

        //Try : usado no inicio da tratativa de erro
        //Catch : pega o erro para assim poder fazer uma tratativa sobre ele
        //Finally : utilizado após o try para finalmente fazer x ação
        //Throw : lança excessões, ou seja, pode ser utilizado para interromper a aplicação

        //Netflix
            var video = Array();
            video[1] = Array();
            video[1]['nome'] = 'Fullmetal Alchemist'
            video[1]['categoria'] = 'Anime'
    
            function getVideo(video){

                try{
                    //lógica
                    //Requisição http
                    console.log(video[0]['nome']);
                }catch(erro){
                    tratarErro(erro); //String que representa o erro
                    console.log('Agora sim podemos tratar esse erro');
                    //throw new Error('Houve um erro, mas não se preocupe estamos trabalhando nisto agora!');
                }
                finally{
                    console.log('Sempre passa por aqui (try/catch)')
                }


                console.log('A aplicação não morreu.');
            }
            function tratarErro(erro){
                //Lógica para registrar o erro no servidor
                console.log(erro);
            }
            getVideo(video);
    </script>
</head>
<body>
    
</body>
</html>